!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?e(require("jquery")):e(jQuery)}(function(e){var t,a,l="[object OperaMini]"===Object.prototype.toString.call(window.operamini),r="placeholder"in document.createElement("input")&&!l,s="placeholder"in document.createElement("textarea")&&!l,o=e.valHooks,i=e.propHooks,d={};function n(t,a){var l=e(this);if(this.value===l.attr("placeholder")&&l.hasClass(d.customClass))if(this.value="",l.removeClass(d.customClass),l.data("placeholder-password")){if(l=l.hide().nextAll('input[type="password"]:first').show().attr("id",l.removeAttr("id").data("placeholder-id")),!0===t)return l[0].value=a,a;l.focus()}else this==c()&&this.select()}function u(t){var a,l,r,s,o=e(this),i=this.id;if(t&&"blur"===t.type){if(o.hasClass(d.customClass))return;if("password"===this.type&&(a=o.prevAll('input[type="text"]:first')).length>0&&a.is(":visible"))return}if(""===this.value){if("password"===this.type){if(!o.data("placeholder-textinput")){try{a=o.clone().prop({type:"text"})}catch(t){a=e("<input>").attr(e.extend((l=this,r={},s=/^jQuery\d+$/,e.each(l.attributes,function(e,t){t.specified&&!s.test(t.name)&&(r[t.name]=t.value)}),r),{type:"text"}))}a.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":o,"placeholder-id":i}).bind("focus.placeholder",n),o.data({"placeholder-textinput":a,"placeholder-id":i}).before(a)}this.value="",o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",o.data("placeholder-id")).show()}else{var u=o.data("placeholder-password");u&&(u[0].value="",o.attr("id",o.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}o.addClass(d.customClass),o[0].value=o.attr("placeholder")}else o.removeClass(d.customClass)}function c(){try{return document.activeElement}catch(e){}}r&&s?((a=e.fn.placeholder=function(){return this}).input=!0,a.textarea=!0):((a=e.fn.placeholder=function(t){return d=e.extend({},{customClass:"placeholder"},t),this.filter((r?"textarea":":input")+"[placeholder]").not("."+d.customClass).bind({"focus.placeholder":n,"blur.placeholder":u}).data("placeholder-enabled",!0).trigger("blur.placeholder")}).input=r,a.textarea=s,t={get:function(t){var a=e(t),l=a.data("placeholder-password");return l?l[0].value:a.data("placeholder-enabled")&&a.hasClass(d.customClass)?"":t.value},set:function(t,a){var l,r,s=e(t);return""!==a&&(l=s.data("placeholder-textinput"),r=s.data("placeholder-password"),l?(n.call(l[0],!0,a)||(t.value=a),l[0].value=a):r&&(n.call(t,!0,a)||(r[0].value=a),t.value=a)),s.data("placeholder-enabled")?(""===a?(t.value=a,t!=c()&&u.call(t)):(s.hasClass(d.customClass)&&n.call(t),t.value=a),s):(t.value=a,s)}},r||(o.input=t,i.value=t),s||(o.textarea=t,i.value=t),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+d.customClass,this).each(function(){n.call(this,!0,"")});setTimeout(function(){t.each(u)},10)})}),e(window).bind("beforeunload.placeholder",function(){e("."+d.customClass).each(function(){this.value=""})}))});